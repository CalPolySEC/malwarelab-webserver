FROM ubuntu:latest

RUN apt-get update -y
RUN apt-get upgrade -y

RUN apt-get -y install \
    python3 \
    python3-pip

COPY requirements.txt /requirements.txt

RUN pip3 install -r /requirements.txt

COPY . /app

RUN mkdir /logs

WORKDIR /app

EXPOSE 8000

CMD ["gunicorn", "-w 8", "-b 0.0.0.0", "--error-logfile=/logs/error.log", "--access-logfile=/logs/access.log", "--capture-output", "--log-level=debug", "--reload", "app:app"]
